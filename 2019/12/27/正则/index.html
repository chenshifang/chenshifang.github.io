<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="陈士方">





<title>正则表达式 | 陈士方的博客</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


	
<meta name="generator" content="Hexo 4.2.0"></head>


<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">陈士方的博客</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">目录</a>
                
                    <a class="menu-item" href="/category">分类</a>
                
                    <a class="menu-item" href="/tag">标签</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">陈士方的博客</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">目录</a>
                
                    <a class="menu-item" href="/category">分类</a>
                
                    <a class="menu-item" href="/tag">标签</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">正则表达式</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">陈士方</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">十二月 27, 2019&nbsp;&nbsp;15:52:10</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/%E6%AD%A3%E5%88%99/">正则</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">正则表达式是一种特殊的字符串模式，用于匹配一组字符串，就好比用模具做产品，而正则就是这个模具，定义一种规则去匹配符合规则的字符。</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>

<a id="more"></a>)

<p><strong>正则中的特殊符号</strong></p>
<p><strong>匹配一个范围</strong>： <strong>[]</strong></p>
<p><strong>[A-Z]</strong>：A, B, C…</p>
<p><strong>[0-9]</strong>：1, 2, 3…</p>
<p><strong>匹配任何数字字符</strong>：<strong>\d</strong></p>
<p><strong>\d</strong>：1, 2, 3…</p>
<p><strong>匹配任何空白符</strong>：<strong>\s</strong></p>
<p><strong>\s</strong>：\t (水平制表), \v (垂直制表), \n (换行), \r (回车), \f (换页)</p>
<p><strong>匹配任何数字、字母、字符及下划线</strong>：<strong>\w</strong></p>
<p><strong>\w</strong>： a, 1, _</p>
<p><strong>匹配除了换行符任意一个单个字符</strong>：<strong>.</strong></p>
<p>a<strong>.</strong>c：abc, a2c, a_c</p>
<p><strong>..</strong>：匹配任意字符组成的两个长度的字符串</p>
<p><strong>匹配前面出现的正则表达式0次或多次</strong>：<strong><em>*</em></strong></p>
<p>a*****：aaa 或是一个空</p>
<p>[abc]***：aaabbb abc bbaacc</p>
<p><strong>匹配前面出现的正则表达式0次或一次</strong>：<strong>?</strong></p>
<p><strong>a?</strong>：a 或是一个空</p>
<p><strong>匹配前面出现的正则表达式1次或多次</strong>：<strong>+</strong></p>
<p><strong>a+</strong>：aaa a</p>
<p><strong>abc+</strong>：abcabc</p>
<p><strong>匹配前面出现的正则表达式固定次数</strong>：<strong>{}</strong></p>
<p><strong>a{5}</strong>： aaaaa</p>
<p><strong>\d{5}</strong>：12345, 22222</p>
<p><strong>匹配明确的多个选择</strong>：<strong>|</strong></p>
<p><strong>a | b</strong>：a, b</p>
<p><strong>abc|cdf|123</strong>：abc, cdf, 123</p>
<p><strong>匹配字符串的开头或结尾</strong>：<strong>^, $</strong></p>
<p><strong>^abc</strong>：匹配所有以abc开头的字符串</p>
<p><strong>abc$</strong>：匹配所有以abc结尾的字符串</p>
<p><strong>否定匹配</strong>：<strong>[^]</strong></p>
<p><strong>[^a]</strong>：匹配除了a之外的所有字符</p>
<p><strong>re模块函数</strong></p>
<p><strong>re.compile(pattern)</strong></p>
<p>编译正则表达式</p>
<p>一般的，特殊字符再进行正则匹配的时候，如果你不预先编译正则表达式，解释器也会在你传入参数的时候进行编译</p>
<p>一些常用正则表达式，我们可以提前使用该函数进行预先编译，提高程序的效率 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import re</span><br><span class="line">&gt;&gt;&gt; regex &#x3D; re.compile(&#39;abc&#39;)</span><br></pre></td></tr></table></figure>



<p><strong>re.match(pattern,string)</strong></p>
<p>尝试使用正则模式<strong>pattern</strong>在字符串中的开头进行严格匹配，如果开头匹配失败则匹配失败</p>
<p><strong>匹配成功</strong>：返回一个匹配对象，匹配到的值可通过<strong>group</strong>函数获取</p>
<p><strong>匹配失败</strong>：返回<strong>None</strong></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; res &#x3D; re.match(&#39;abc&#39;,&#39;abcac&#39;)</span><br><span class="line">&lt;_sre.SRE_Match object; span&#x3D;(0, 3), match&#x3D;&#39;abc&#39;&gt; </span><br><span class="line">#返回表示选择的区间以及匹配到的结果</span><br><span class="line">&gt;&gt;&gt; &gt;&gt;&gt;res.group()</span><br><span class="line">&#39;abc&#39;</span><br></pre></td></tr></table></figure>



<p><strong>re.findall(pattern,string)</strong></p>
<p>返回字符串中正则模式的所有非重复出现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; re.findall(&#39;\*&#39;,&#39;a*b*c*&#39;)</span><br><span class="line">[&#39;*&#39;, &#39;*&#39;, &#39;*&#39;]</span><br></pre></td></tr></table></figure>



<p><strong>注意</strong>：由于匹配的表达式中，我希望匹配的只是单纯的*****号，并不具有特殊意义，所以要加一个斜杠防止转义</p>
<p><strong>re.search(pattern,string)</strong></p>
<p>返回字符串中正则模式的第一次出现，没有匹配结果则返回<strong>None</strong></p>
<p>结果可以通过返回值的group函数获取</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; res &#x3D; re.search(&#39;\*&#39;,&#39;a*b*c*&#39;)</span><br><span class="line">&lt;_sre.SRE_Match object; span&#x3D;(1, 2), match&#x3D;&#39;*&#39;&gt;</span><br><span class="line">&gt;&gt;&gt; res.group()</span><br><span class="line">&#39;*&#39;</span><br></pre></td></tr></table></figure>



<p><strong>re.sub(str1,str2,str3)</strong></p>
<p><strong>re.subn(str1,str2,str3)</strong></p>
<p><strong>str1</strong>：要替换的字符串</p>
<p><strong>str2</strong>：替换成什么</p>
<p><strong>str3</strong>：在哪个字符串里进行替换</p>
<p>这两个函数都可以实现<strong>搜索</strong>和<strong>替换</strong>功能，均返回一个替换之后的新字符串</p>
<p><strong>subn</strong>函数会以元组形式包含一个表示替换的总数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; var &#x3D; re.sub(&#39;\*&#39;,&#39;_&#39;,&#39;a*b*c*&#39;)</span><br><span class="line">&gt;&gt;&gt; var</span><br><span class="line">&#39;a_b_c_&#39;</span><br><span class="line">&gt;&gt;&gt; var &#x3D; re.subn(&#39;\*&#39;,&#39;_&#39;,&#39;a*b*c*&#39;)</span><br><span class="line">&gt;&gt;&gt; var</span><br><span class="line">(&#39;a_b_c_&#39;, 3)</span><br></pre></td></tr></table></figure>



<p><strong>贪婪非贪婪</strong></p>
<p>如果<strong>问号**</strong>?<strong>紧跟在任何使用</strong>闭合<strong>（类似*</strong> +** 这样的操作符）的匹配后面， 它将直接要求正则表达式引擎匹配<strong>尽可能少</strong>的次数，这叫做<strong>非贪婪</strong></p>
<p><strong>贪婪匹配</strong>：正则表达式引擎将试图“吸收”匹配该模式的<strong>尽可能多</strong>的字符</p>
<p><strong>非贪婪匹配</strong>：问号要求正则表达式引擎去<strong>“偷懒”</strong>，如果可能，就在当前的正则表达式中尽<strong>可能少</strong>地匹配字符，留下尽可能多的字符给后面的模式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import re</span><br><span class="line">&gt;&gt;&gt; mystr &#x3D; &#39;a*b*c*d*e*f*g&#39;ac</span><br><span class="line">&gt;&gt;&gt; re.findall(&#39;.+?&#39;, mystr) #非贪婪模式进行匹配</span><br><span class="line">[&#39;a&#39;, &#39;*&#39;, &#39;b&#39;, &#39;*&#39;, &#39;c&#39;, &#39;*&#39;, &#39;d&#39;, &#39;*&#39;, &#39;e&#39;, &#39;*&#39;, &#39;f&#39;, &#39;*&#39;, &#39;g&#39;]</span><br><span class="line">&gt;&gt;&gt; re.findall(&#39;.+&#39;, mystr) #贪婪模式进行匹配</span><br><span class="line">[&#39;a*b*c*d*e*f*g&#39;]</span><br><span class="line">&gt;&gt;&gt; re.findall(&#39;.*&#39;, mystr) #贪婪模式进行匹配</span><br><span class="line">[&#39;a*b*c*d*e*f*g&#39;, &#39;&#39;]</span><br><span class="line">&gt;&gt;&gt; re.findall(&#39;.*?&#39;, mystr) #非贪婪模式进行匹配</span><br><span class="line">[&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;] </span><br><span class="line">#结果不同在于对+号和*号特殊字符的解释</span><br></pre></td></tr></table></figure>












        </div>

        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/%E6%AD%A3%E5%88%99/"># 正则</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2019/12/28/scrapy/">scrapy框架</a>
            
            
            <a class="next" rel="next" href="/2019/12/26/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%88%AC%E8%99%AB/">多线程爬虫小案例</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© 陈士方 | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>
			
    </div>
	
<iframe src="https://zhanyuzhang.github.io/lovely-cat/cat.html" frameborder="0" id="catIframe"></iframe>

</body>


<style>
#catIframe {
position: fixed;
width: 400px;
/* padding: 50px 0px; */
top: 80%;
left: 10%;
transform: translate(-68%, -50%);
}

</style>
</html>
